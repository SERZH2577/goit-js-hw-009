{"version":3,"file":"commonHelpers.js","sources":["../src/js/feedback.js"],"sourcesContent":["const feedbackFormRef = document.querySelector('.feedback-form');\nconst btnRef = document.querySelector('.feedback-form button');\n\nfeedbackFormRef.addEventListener('input', onAddsDataToLocalStorage);\nbtnRef.addEventListener('click', onSubmitsDataAndClearsForm);\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nfillsFormFromLocalStorage(feedbackFormRef);\n\nfunction onAddsDataToLocalStorage(e) {\n  if (e.target.name === 'email') formData.email = e.target.value;\n\n  if (e.target.name === 'message') formData.message = e.target.value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction onSubmitsDataAndClearsForm(e) {\n  e.preventDefault();\n\n  if (formData.email !== '' && formData.message !== '') {\n    feedbackFormRef.reset();\n    localStorage.removeItem('feedback-form-state');\n    formData.email = '';\n    formData.message = '';\n  }\n}\n\nfunction fillsFormFromLocalStorage(form) {\n  const savedSettings = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n  if (savedSettings !== null) {\n    formData.email = savedSettings.email;\n    formData.message = savedSettings.message;\n\n    form[0].value = savedSettings.email;\n    form[1].value = savedSettings.message;\n  } else {\n    formData.email = '';\n    formData.message = '';\n  }\n}\n"],"names":["feedbackFormRef","btnRef","onAddsDataToLocalStorage","onSubmitsDataAndClearsForm","formData","fillsFormFromLocalStorage","e","form","savedSettings"],"mappings":"wFAAA,MAAMA,EAAkB,SAAS,cAAc,gBAAgB,EACzDC,EAAS,SAAS,cAAc,uBAAuB,EAE7DD,EAAgB,iBAAiB,QAASE,CAAwB,EAClED,EAAO,iBAAiB,QAASE,CAA0B,EAE3D,MAAMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAC,EAA0BL,CAAe,EAEzC,SAASE,EAAyBI,EAAG,CAC/BA,EAAE,OAAO,OAAS,UAASF,EAAS,MAAQE,EAAE,OAAO,OAErDA,EAAE,OAAO,OAAS,YAAWF,EAAS,QAAUE,EAAE,OAAO,OAE7D,aAAa,QAAQ,sBAAuB,KAAK,UAAUF,CAAQ,CAAC,CACtE,CAEA,SAASD,EAA2BG,EAAG,CACrCA,EAAE,eAAc,EAEZF,EAAS,QAAU,IAAMA,EAAS,UAAY,KAChDJ,EAAgB,MAAK,EACrB,aAAa,WAAW,qBAAqB,EAC7CI,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEvB,CAEA,SAASC,EAA0BE,EAAM,CACvC,MAAMC,EAAgB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAExEA,IAAkB,MACpBJ,EAAS,MAAQI,EAAc,MAC/BJ,EAAS,QAAUI,EAAc,QAEjCD,EAAK,GAAG,MAAQC,EAAc,MAC9BD,EAAK,GAAG,MAAQC,EAAc,UAE9BJ,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEvB"}