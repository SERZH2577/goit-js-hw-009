{"version":3,"file":"commonHelpers.js","sources":["../src/js/feedback.js"],"sourcesContent":["const feedbackFormRef = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nfeedbackFormRef.addEventListener('input', onAddsDataToLocalStorage);\nfeedbackFormRef.addEventListener('click', onSubmitsDataAndClearsForm);\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nfillsFormFromLocalStorage(feedbackFormRef);\n\nfunction onAddsDataToLocalStorage(e) {\n  if (e.target.name === 'email') formData.email = e.target.value.trim();\n  if (e.target.name === 'message') formData.message = e.target.value.trim();\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction onSubmitsDataAndClearsForm(e) {\n  e.preventDefault();\n\n  if (e.target.type === 'submit')\n    if (formData.email !== '' && formData.message !== '') {\n      console.log(formData);\n\n      e.currentTarget.reset();\n      localStorage.removeItem('feedback-form-state');\n      formData.email = '';\n      formData.message = '';\n    } else {\n      alert('Все поля должны быть заполнены!');\n    }\n}\n\nfunction fillsFormFromLocalStorage(form) {\n  const objFromLocalStorage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (objFromLocalStorage !== null) {\n    formData.email = objFromLocalStorage.email;\n    formData.message = objFromLocalStorage.message;\n\n    form[0].value = objFromLocalStorage.email;\n    form[1].value = objFromLocalStorage.message;\n  }\n}\n"],"names":["feedbackFormRef","STORAGE_KEY","onAddsDataToLocalStorage","onSubmitsDataAndClearsForm","formData","fillsFormFromLocalStorage","form","objFromLocalStorage"],"mappings":"uFAAA,MAAMA,EAAkB,SAAS,cAAc,gBAAgB,EAEzDC,EAAc,sBAEpBD,EAAgB,iBAAiB,QAASE,CAAwB,EAClEF,EAAgB,iBAAiB,QAASG,CAA0B,EAEpE,MAAMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAC,EAA0BL,CAAe,EAEzC,SAASE,EAAyB,EAAG,CAC/B,EAAE,OAAO,OAAS,UAASE,EAAS,MAAQ,EAAE,OAAO,MAAM,KAAI,GAC/D,EAAE,OAAO,OAAS,YAAWA,EAAS,QAAU,EAAE,OAAO,MAAM,KAAI,GAEvE,aAAa,QAAQ,sBAAuB,KAAK,UAAUA,CAAQ,CAAC,CACtE,CAEA,SAASD,EAA2B,EAAG,CACrC,EAAE,eAAc,EAEZ,EAAE,OAAO,OAAS,WAChBC,EAAS,QAAU,IAAMA,EAAS,UAAY,IAChD,QAAQ,IAAIA,CAAQ,EAEpB,EAAE,cAAc,QAChB,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,IAEnB,MAAM,iCAAiC,EAE7C,CAEA,SAASC,EAA0BC,EAAM,CACvC,MAAMC,EAAsB,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAEpEM,IAAwB,OAC1BH,EAAS,MAAQG,EAAoB,MACrCH,EAAS,QAAUG,EAAoB,QAEvCD,EAAK,GAAG,MAAQC,EAAoB,MACpCD,EAAK,GAAG,MAAQC,EAAoB,QAExC"}